webpackJsonp([26],{"G+hs":function(t,e,s){"use strict";function n(t){s("PgZY")}Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),o=s.n(a),i=s("Gu7T"),l=s.n(i),r=s("S8Wg"),c=s("ABCa"),u=s("pDNl"),p=s("p0f0"),d={content:"下拉刷新",height:40,autoRefresh:!1,downContent:"下拉刷新",upContent:"释放后刷新",loadingContent:"正在刷新...",clsPrefix:"xs-plugin-pulldown-"},h={content:"",pullUpHeight:60,height:40,autoRefresh:!1,downContent:"释放后加载",upContent:"",loadingContent:"加载中...",clsPrefix:"xs-plugin-pullup-"},g=(r.a,c.a,u.a,p.a,{content:"下拉刷新",height:40,autoRefresh:!1,downContent:"下拉刷新",upContent:"释放后刷新",loadingContent:"正在刷新...",clsPrefix:"xs-plugin-pulldown-"}),f={content:"",pullUpHeight:60,height:40,autoRefresh:!1,downContent:"释放后加载",upContent:"",loadingContent:"加载中...",clsPrefix:"xs-plugin-pullup-"},m={name:"mymessage_list2",components:{Scroller:r.a,XHeader:c.a,XInput:u.a,MescrollVue:p.a},props:["list","status","isTrue"],data:function(){return{blue:s("imqv"),red:s("qAun"),search_value:"",currentpage:1,lastPage:2,list:[],isNoDta:!1,pullupDefaultConfig:f,pulldownDefaultConfig:g,isNoData:!1,defaultIcon:s("l/rB"),mescroll:null,mescrollDown:{callback:this.loadbefore,auto:!1,noMoreSize:5,htmlNodata:'<p class="upwarp-nodata">-- END --</p>',empty:{warpId:"mescrolls",icon:s("eiBa"),tip:"暂无相关数据~"}},mescrollUp:{callback:this.loadMore,auto:!1,noMoreSize:5,htmlContent:'<p class="downwarp-progress"></p><p class="downwarp-tip">下拉刷新 </p>',htmlLoading:'<p class="upwarp-progress mescroll-rotate"></p><p class="upwarp-tip">加载中..</p>',htmlNodata:'<p class="upwarp-nodata">-- END --</p>',empty:{warpId:"",icon:s("eiBa"),tip:"暂无相关数据~"}}}},created:function(){},mounted:function(){},methods:{getHeight:function(){return window.screen.availHeight-98+"px"},mescrollInit:function(t){this.mescroll=t},loadbefore:function(){var t=this;this.currentPage=1;var e={};e.per_page=20,e.page=this.currentpage,e.keywords=this.search_value||"",this.$vux.loading.show({text:"加载中..."}),this.$http.get({api:"push_msg",params:e}).then(function(e){if(t.$vux.loading.hide(),!e.status)return t.$vux.toast.show({type:"text",text:e.messages,position:"bottom",width:"15em"});t.lastPage=e.last_page,t.list=e.data,t.mescroll.endSuccess(e.data.length)}).then(function(){},function(e){t.$vux.loading.hide(),t.$vux.toast.show({type:"text",text:e.msg,position:"bottom",width:"15em"})})},loadMore:function(){var t=this,e={};e.per_page=20,e.page=this.currentpage+1,e.keywords=this.search_value||"",this.$vux.loading.show({text:"加载中..."}),this.$http.get({api:"push_msg",params:e}).then(function(e){if(t.$vux.loading.hide(),!e.status)return t.$vux.toast.show({type:"text",text:"加载失败,请稍后再试",position:"bottom",width:"15em"});t.currentPage=e.current_page,t.lastPage=e.last_page,t.list=[].concat(l()(t.list),l()(e.data)),t.$emit("changeChild",e.data),t.mescroll.endSuccess(e.data.length)}).then(function(){})},goMessageDetails:function(t){this.$router.push({name:"messageDetails",query:{id:t}})},checkPass:function(t){if(3===t.status){var e={city:t.city,cate_id:t.cate_id,title:t.title,content:t.content,img_urls:t.img_urls};this.$router.push({name:"myMessage_notPass",query:{forms:o()(e)}})}else this.$router.push({name:"convenience_details",query:{id:t.id}})},reset:function(){var t=this;this.$nextTick(function(){t.$refs.scroller.reset()})}},activated:function(){this.mescroll&&this.mescroll.setScrollTop(this.$store.getters.getMyMessageTopValue3)}},v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"myMessage",staticStyle:{background:"#f6f6f6"}},[t.isTrue?n("div",{staticClass:"noData"},[n("img",{attrs:{src:s("dIqy"),alt:""}}),t._v(" "),n("p",[t._v("暂无数据")])]):n("mescroll-vue",{ref:"mescroll",staticClass:"scrollView",style:{height:t.getHeight()},attrs:{id:"mescrolls",down:t.mescrollDown,up:t.mescrollUp},on:{init:t.mescrollInit}},[n("div",{staticClass:"body box"},[t._l(t.list,function(e,s){return n("div",{key:s,staticClass:"massage-box",on:{click:function(s){return t.goMessageDetails(e.id)}}},[n("div",{staticClass:"head"},[n("span",{staticClass:"tit"},[t._v(t._s(e.title))]),n("span",{staticClass:"time"},[t._v(t._s(e.create_time))])]),t._v(" "),n("div",{staticClass:"content"},[t._v(t._s(e.summary))])])}),t._v(" "),n("div",{staticStyle:{height:"70px",width:"100%"}})],2)])],1)},w=[],x={render:v,staticRenderFns:w},_=x,C=s("VU/8"),y=n,b=C(m,_,!1,y,"data-v-8437bd44",null);e.default=b.exports},PgZY:function(t,e,s){var n=s("g8g1");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);s("rjj0")("12a2dd7b",n,!0,{})},g8g1:function(t,e,s){e=t.exports=s("FZ+f")(!1),e.push([t.i,"\n.info-status[data-v-8437bd44]{\r\n  width:45px;\r\n  height:42px;\r\n  position: absolute;\r\n  left:0px;\r\n  top:0px;\n}\n.info-relative[data-v-8437bd44]{\r\n  position: relative;\n}\n.info-font[data-v-8437bd44]{\r\n  position: absolute;\r\n  left:-2px;\r\n  top:6px;\r\n  -webkit-transform:rotate(-45deg);\r\n          transform:rotate(-45deg);\r\n  font-size: 10px;\r\n  white-space: nowrap;\r\n  color:#fff;\n}\r\n",""])}});
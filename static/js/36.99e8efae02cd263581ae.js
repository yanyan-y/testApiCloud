webpackJsonp([36],{kZvF:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("mvHQ"),s=i.n(o),a=i("ABCa"),n=i("S8Wg"),r=i("2sLL"),c=i("e66H"),l=i("63CM"),p=i("HD9R"),d=i("kNDc"),u=i("LgOF"),m=i("/kga"),v=i("162o"),h=(a.a,n.a,r.a,c.a,l.a,p.a,d.a,u.a,m.a,l.a,{components:{XHeader:a.a,Scroller:n.a,XButton:r.a,Rater:c.a,TransferDom:l.a,Popup:p.a,Grid:d.a,GridItem:u.a,XDialog:m.a},name:"newsDetails",directives:{TransferDom:l.a},data:function(){return{city:"",province:"",progress:0,sart:0,end:60,detail_Id:this.$route.query.id?this.$route.query.id:"",gold_drop_out1:!1,gold_drop_out2:!1,urls:this.$lib.getImgPath(),xheight:"",popS:!1,popS2:!1,pop2:!1,info:{},intervalName:"",golds:0,navobj:"",GridItemList:[{name:"微信好友",img:i("VG63")},{name:"朋友圈",img:i("14RT")},{name:"QQ",img:i("7Gr/")},{name:"新浪微博",img:i("C9Dd")}]}},created:function(){this.city=localStorage.getItem("city")?JSON.parse(localStorage.getItem("city")).city:"",this.province=localStorage.getItem("city")?JSON.parse(localStorage.getItem("city")).province:"",this.news_id()},methods:{getReward:function(){var t=this;this.$vux.loading.show({text:"加载中..."}),this.$http.post({api:"reward",params:{type:1,content_id:this.detail_Id}}).then(function(e){if(t.$vux.loading.hide(),!e.status)return t.$vux.toast.show({type:"text",text:e.messages,position:"bottom"});t.golds=e.data.add_gold,t.clearPop()},function(e){t.$vux.loading.hide(),t.$vux.toast.show({type:"text",text:e.messages,position:"bottom"})})},getTime:function(){var t=this;t.progress<1?t.progress+=.01667:(t.gold_drop_out1=!1,t.gold_drop_out2=!0,clearInterval(t.intervalName),t.getReward())},clearPop:function(){var t=this;Object(v.setTimeout)(function(){t.gold_drop_out2=!1},4e3)},goLogin:function(){this.popS=!1,this.$router.push("/pwd_login")},seleShare:function(){this.$lib.getUserInfo()?this.pop2=!0:this.popS=!0},news_id:function(){var t=this,e=this,i={id:this.detail_Id,region:""};if(this.province)i.region=this.province;else{["北京市","天津市","重庆市","上海市"].forEach(function(e){e==t.city&&(i.region=e)})}this.$vux.loading.show({text:"加载中..."}),this.$http.get({api:"news_id",params:i}).then(function(i){if(t.$vux.loading.hide(),!i.status)return t.$vux.toast.show({type:"text",text:i.messages,position:"bottom"});t.info=i.data.news,t.navobj=i.data.adv,t.info.is_get_gold&&(e.gold_drop_out1=!0,e.intervalName=setInterval(function(){e.getTime()},1e3))},function(e){t.$vux.loading.hide(),t.$vux.toast.show({type:"text",text:e.messages,position:"bottom"})})},changeImg:function(t){var e=this,i=this,o="http://share.jinrkb.com/index.html?id="+this.detail_Id;if(i.forward(),"微信好友"===t)Wechat.isInstalled(function(t){t?Wechat.share({message:{title:i.info.title,description:i.info.title,thumb:i.info.img_url,media:{type:Wechat.Type.WEBPAGE,webpageUrl:o}},scene:Wechat.Scene.SESSION},function(){i.pop2=!1},function(t){alert(t),i.pop2=!1}):(e.$vux.toast.show({type:"text",text:"您还没有安装微信，请先安装微信",position:"bottom",width:"15em"}),i.pop2=!1)});else if("朋友圈"===t)Wechat.isInstalled(function(t){t?Wechat.share({message:{title:i.info.title,description:i.info.title,thumb:i.info.img_url,media:{type:Wechat.Type.WEBPAGE,webpageUrl:o}},scene:Wechat.Scene.TIMELINE},function(){i.pop2=!1},function(t){alert(t),i.pop2=!1}):(i.$vux.toast.show({type:"text",text:"您还没有安装微信，请先安装微信",position:"bottom",width:"15em"}),i.pop2=!1)});else if("QQ"===t){var s={};s.client=QQSDK.ClientType.QQ,QQSDK.checkClientInstalled(function(){var t={};t.client=QQSDK.ClientType.QQ,t.scene=QQSDK.Scene.QQ,t.url=o,t.title=i.info.title,t.description=i.info.title,t.image=i.info.img_url,QQSDK.shareNews(function(){i.pop2=!1},function(t){alert(t),i.pop2=!1},t)},function(){i.$vux.toast.show({type:"text",text:"您还没有安装QQ，请先安装",position:"bottom",width:"15em"}),i.pop2=!1},s)}else WeiboSDK.checkClientInstalled(function(){var t={};t.url=o,t.title=i.info.title,t.description=i.info.title,t.image=i.info.img_url,WeiboSDK.shareToWeibo(function(){i.pop2=!1},function(t){alert(t),i.pop2=!1},t)},function(){i.$vux.toast.show({type:"text",text:"您还没有安装微博，请先安装",position:"bottom",width:"15em"}),i.pop2=!1})},forward:function(){var t=this;this.$http.post({api:"forward",params:{type:1,content_id:this.info.id}}).then(function(e){if(!e.status)return t.$vux.toast.show({type:"text",text:e.message,position:"bottom",width:"10em"})},function(e){t.$vux.toast.show({type:"text",text:e.message,position:"bottom",width:"10em"})})},goAdvertising:function(){this.$router.push({name:"advertising",query:{adv:s()(this.navobj)}})},reset:function(){var t=this;this.$nextTick(function(){t.$refs.scroller.reset()})}},beforeRouteLeave:function(t,e,i){"myTranspond"===t.name||"news"===t.name?t.meta.isUseCache=!0:t.meta.isUseCache=!1,i()},beforeDestroy:function(){clearInterval(this.intervalName)}}),g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header-bo-bot newsDetails"},[o("x-header",{attrs:{"left-options":{backText:""}}},[o("div",{attrs:{slot:"right"},on:{click:t.seleShare},slot:"right"},[o("img",{staticStyle:{height:"18px",width:"18px"},attrs:{src:i("NvOd"),alt:""}})])]),t._v(" "),o("scroller",{ref:"scroller",staticStyle:{width:"100%"},attrs:{height:"-46","lock-x":"",bounce:!1},on:{"on-scroll":t.reset}},[o("div",{staticClass:"newsDetails box",staticStyle:{"padding-top":"15px"}},[o("p",{staticClass:"title"},[t._v(t._s(t.info.title))]),t._v(" "),o("div",{staticClass:"log"},[o("div",{staticClass:"detail"},[o("p",[t._v(t._s(t.info.author))]),t._v(" "),o("span",[t._v(t._s(t.info.create_time))])])]),t._v(" "),o("div",{staticClass:"cont",staticStyle:{color:"#202020"},domProps:{innerHTML:t._s(t.info.content)}}),t._v(" "),t.navobj?o("div",{staticClass:"nav"},[o("a",{attrs:{href:"javascript:;"},on:{click:t.goAdvertising}},[o("img",{attrs:{src:t.navobj.content,alt:""}})])]):t._e()])]),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("x-dialog",{staticClass:"dialog-demo dialog-demo2",model:{value:t.popS,callback:function(e){t.popS=e},expression:"popS"}},[o("div",{staticStyle:{padding:"15px"}},[o("img",{staticClass:"img",attrs:{src:i("Pi5X"),alt:""}}),t._v(" "),o("img",{staticClass:"dele",attrs:{src:i("jaeZ"),alt:""},on:{click:function(e){t.popS=!1}}})]),t._v(" "),o("p",[t._v("登陆获取分享亮点，请登陆～")]),t._v(" "),o("x-button",{staticStyle:{width:"50%","border-radius":"25px",background:"#2389E3","margin-bottom":"15px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.goLogin(e)}}},[t._v("立即登陆")])],1)],1),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("x-dialog",{staticClass:"dialog-demo dialog-demo3",model:{value:t.popS2,callback:function(e){t.popS2=e},expression:"popS2"}},[o("div",{staticClass:"bac"},[o("img",{staticClass:"dele",attrs:{src:i("evLd"),alt:""},on:{click:function(e){t.popS2=!1}}}),t._v(" "),o("p",[t._v("分享成功！")]),t._v(" "),o("div",{staticClass:"but",on:{click:function(e){t.popS2=!1}}},[t._v("好的，知道了")])])])],1),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],staticClass:"popSS"},[o("popup",{staticStyle:{"background-color":"#F7F7F7"},attrs:{position:"bottom","min-height":"50%"},model:{value:t.pop2,callback:function(e){t.pop2=e},expression:"pop2"}},[o("grid",{attrs:{"show-lr-borders":!1,"show-vertical-dividers":!1}},t._l(t.GridItemList,function(e,i){return o("grid-item",{key:i,attrs:{label:e.name}},[o("img",{staticClass:"imgs",attrs:{slot:"icon",src:e.img},on:{click:function(i){return t.changeImg(e.name)}},slot:"icon"})])}),1),t._v(" "),o("div",{staticClass:"but",on:{click:function(e){t.pop2=!1}}},[t._v("取消")])],1)],1),t._v(" "),t.gold_drop_out1?o("div",{staticClass:"browseMoney"},[o("yd-progressbar",{attrs:{progress:t.progress,"trail-width":"6","trail-color":"rgba(255,219,140,1)"}},[o("yd-countup",{attrs:{startnum:t.sart,endnum:t.end,duration:60,suffix:"s"}})],1)],1):t._e(),t._v(" "),t.gold_drop_out2?o("div",{staticClass:"browseMoney2 animated bounce"},[o("div",[o("p",[t._v(t._s(t.golds))]),t._v(" "),o("p",[t._v("金币")])])]):t._e()],1)},f=[],_={render:g,staticRenderFns:f},x=_,b=i("VU/8"),w=b(h,x,!1,null,null,null);e.default=w.exports}});
webpackJsonp([40],{"5Pz5":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("ABCa"),a=o("S8Wg"),n=o("1DHf"),s=o("32ER"),r=o("rHil"),c=o("ALGc"),l=o("2sLL"),u=o("YxJB"),v=o("3Lt7"),m=o("63CM"),d=o("62KO"),h=(m.a,i.a,a.a,n.a,s.a,r.a,c.a,l.a,u.a,v.a,d.a,{directives:{TransferDom:m.a},components:{XHeader:i.a,Scroller:a.a,Cell:n.a,CellBox:s.a,Group:r.a,XTextarea:c.a,XButton:l.a,Flexbox:u.a,FlexboxItem:v.a,Confirm:d.a},data:function(){return{feedbackVal:"",popS:!1,moneyList:{money1:[{lable:"100",value:"1"},{lable:"500",value:"5"},{lable:"1000",value:"10"}],money2:[{lable:"3000",value:"30"},{lable:"5000",value:"50"},{lable:"10000",value:"100"}]},money:"1",radio2:"1",userinfo:{},exchange_rate:0,account:""}},created:function(){this.account="1"===this.radio2&&this.$lib.getUserInfo().wechat?this.$lib.getUserInfo().wechat:"",this.getAccountInfo(),this.config_values()},mounted:function(){},methods:{getNAme:function(t){"2"===this.radio2&&this.$lib.getUserInfo().wechat?this.account=this.$lib.getUserInfo().wechat:"1"===this.radio2&&this.$lib.getUserInfo().alipay?this.account=this.$lib.getUserInfo().alipay:("2"===this.radio2&&!this.$lib.getUserInfo().wechat||"1"===this.radio2&&!this.$lib.getUserInfo().alipay)&&(this.account="")},config_values:function(){var t=this;this.$vux.loading.show({text:"加载中..."}),this.$http.get({api:"config_values",params:{keys:"exchange_rate"}}).then(function(e){if(t.$vux.loading.hide(),!e.status)return t.$vux.toast.show({type:"text",text:"加载失败,请稍后再试",position:"bottom",width:"10em"});t.exchange_rate=e.data.exchange_rate,t.moneyList.money1.forEach(function(e){e.lable=Number(e.value)*Number(t.exchange_rate)}),t.moneyList.money2.forEach(function(e){e.lable=Number(e.value)*Number(t.exchange_rate)})},function(e){t.$vux.loading.hide(),t.$vux.toast.show({type:"text",text:e.message,position:"bottom",width:"10em"})})},cliMoney:function(t){this.money=t},getAccountInfo:function(){var t=this;this.$vux.loading.show({text:"加载中..."}),this.$http.get({api:"selfInfo",params:{}}).then(function(e){if(t.$vux.loading.hide(),!e.status)return t.$vux.toast.show({type:"text",text:"加载失败,请稍后再试",position:"bottom",width:"10em"});t.userinfo=e.data},function(e){t.$vux.loading.hide(),t.$vux.toast.show({type:"text",text:e.message,position:"bottom",width:"17em"})})},onItemClick:function(){},submitS:function(){return this.money?this.account?this.account.length<6?this.$vux.toast.show({type:"text",text:"账号长度必须在6位以上",position:"bottom",width:"16em"}):void(this.popS=!0):this.$vux.toast.show({type:"text",text:"请输入提现账号",position:"bottom",width:"15em"}):this.$vux.toast.show({type:"text",text:"请输入提现金额",position:"bottom",width:"15em"})},onConfirm:function(){var t=this;this.$http.post({api:"withdraw",params:{type:this.radio2,account:this.account,amount:this.money}}).then(function(e){if(t.$vux.loading.hide(),!e.status)return t.$vux.toast.show({type:"text",text:e.message,position:"bottom",width:"15em"});t.popS=!1,t.$router.push("/withdraw_deposit_success")},function(e){t.$vux.loading.hide(),t.$vux.toast.show({type:"text",text:e.message,position:"bottom",width:"17em"})})},goInstr:function(t){this.$router.push(t)},cliScoller:function(){var t=this;this.$nextTick(function(){t.$refs.scroller.reset()})}}}),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-bo-bot withdraw_deposit"},[i("x-header",{attrs:{"left-options":{backText:""}}},[t._v("\n    提现\n    "),i("span",{staticStyle:{color:"#666"},attrs:{slot:"right"},on:{click:function(e){return t.goInstr("/withdrawal_instructions")}},slot:"right"},[t._v("提现说明")])]),t._v(" "),i("scroller",{ref:"scroller",attrs:{"lock-x":"",bounce:!1,height:"-46"},on:{"on-scroll":t.cliScoller}},[i("div",{},[i("div",{staticClass:"head box"},[i("div",{staticClass:"lef"},[i("p",[t._v("当前金币")]),t._v(" "),i("p",[t._v(t._s(t.userinfo.gold||0))]),t._v(" "),i("div",[t._v("约"+t._s(t.userinfo.gold_rmb||0)+"元")])]),t._v(" "),i("span",{staticClass:"jilu",on:{click:function(e){return t.goInstr("/withdrawal_record")}}},[t._v("提现记录")])]),t._v(" "),i("div",{staticClass:"brr4"}),t._v(" "),i("div",{staticClass:"box content"},[i("div",{staticClass:"mony-tit"},[t._v("提现金额")]),t._v(" "),i("div",{staticClass:"monny-box"},[t._v("\n          ¥\n          "),i("div",{staticClass:"monny-inp-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{type:"number",pattern:"[0-9]*",placeholder:t.userinfo.gold_rmb},domProps:{value:t.money},on:{input:function(e){e.target.composing||(t.money=e.target.value)}}}),t._v(" "),i("span",{on:{click:function(e){t.money=t.userinfo.gold_rmb}}},[t._v("全部提现")])])]),t._v(" "),i("div",{staticClass:"seleMony"},[i("flexbox",t._l(t.moneyList.money1,function(e,o){return i("flexbox-item",{key:o},[i("div",{staticClass:"money-box",class:t.money===e.value?"moneyActive":"",on:{click:function(o){return t.cliMoney(e.value)}}},[i("p",[t._v(t._s(e.value)+"元")]),t._v(" "),i("p",[t._v("消耗"+t._s(e.lable)+"金币")])])])}),1),t._v(" "),i("flexbox",t._l(t.moneyList.money2,function(e,o){return i("flexbox-item",{key:o},[i("div",{staticClass:"money-box",class:t.money===e.value?"moneyActive":"",on:{click:function(o){return t.cliMoney(e.value)}}},[i("p",[t._v(t._s(e.value)+"元")]),t._v(" "),i("p",[t._v("消耗"+t._s(e.lable)+"金币")])])])}),1)],1)]),t._v(" "),i("div",{staticClass:"brr4"}),t._v(" "),i("div",{staticClass:"seleWay"},[i("span",{staticClass:"tit"},[t._v("提现方式")]),t._v(" "),i("div",{staticClass:"pay"},[i("yd-radio-group",{model:{value:t.radio2,callback:function(e){t.radio2=e},expression:"radio2"}},[i("yd-radio",{attrs:{val:"1"},nativeOn:{click:function(e){return t.getNAme(t.radio2)}}},[i("img",{attrs:{src:o("WYj3"),alt:""}}),t._v(" 微信\n            ")]),t._v(" "),i("yd-radio",{attrs:{val:"2"},nativeOn:{click:function(e){return t.getNAme(t.radio2)}}},[i("img",{attrs:{src:o("0OVp"),alt:""}}),t._v(" 支付宝\n            ")])],1)],1)]),t._v(" "),i("div",{staticClass:"acount-tit"},[t._v("提现账号")]),t._v(" "),i("div",{staticClass:"payAcount"},["1"===t.radio2?i("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],ref:"bottom",attrs:{type:"text",placeholder:"请输入微信账号"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],ref:"bottom",attrs:{type:"text",placeholder:"请输入支付宝账号"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),t._v(" "),"0"!==t.money&&t.money?i("x-button",{staticClass:"x-but2",staticStyle:{width:"90%"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.submitS(e)}}},[t._v("提现")]):i("x-button",{staticClass:"x-but2 x-but2S",staticStyle:{width:"90%"},attrs:{type:"primary"}},[t._v("提现")])],1)]),t._v(" "),i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("confirm",{attrs:{title:"",theme:"ios","cancel-text":"取消","confirm-text":"确定"},on:{"on-confirm":t.onConfirm},model:{value:t.popS,callback:function(e){t.popS=e},expression:"popS"}},[i("p",{staticStyle:{"text-align":"center"}},[t._v("确定要提现吗？")])])],1)],1)},f=[],x={render:p,staticRenderFns:f},y=x,_=o("VU/8"),b=_(h,y,!1,null,null,null);e.default=b.exports}});